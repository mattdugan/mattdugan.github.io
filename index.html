
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Matt Dugan</title>
  <meta name="author" content="Matt Dugan">

  
  <meta name="description" content="This was the last session I attended prior to the start of the Summit
keynotes. Presented by the Scotts (Cranton and McCarty), the session
turned out &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://mattdugan.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Matt Dugan" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Matt Dugan</a></h1>
  
    <h2>Just a blog.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://duckduckgo.com" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:mattdugan.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/07/11/judcon-2013-resilient-enterprise-messaging-with-fuse-and-red-hat-enterprise-linux/">JUDCon 2013: Resilient Enterprise Messaging With Fuse &amp; Red Hat Enterprise Linux</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-11T14:12:00-04:00" pubdate data-updated="true">Jul 11<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This was the last session I attended prior to the start of the Summit
keynotes.  Presented by the Scotts (Cranton and McCarty), the session
turned out to be the very-high-level companion to Hiram&rsquo;s &lsquo;Making Apache
Active MQ Scale&rsquo; session.  Unfortunately, this session wasn&rsquo;t nearly as
deep as it could have been.</p>

<p>Presented from a laptop <em>covered</em> in stickers (but at least it was running
RHEL!), the session focused on the high level feature capabilities of
<a href="https://www.jboss.org/products/fuse">JBoss FUSE</a> and A-MQ.</p>

<p><a href="https://www.jboss.org/jbossamq">JBoss A-MQ</a> is the enterprise certified
and supported release of Apache Active MQ, with multiple protocol and
language support.  FUSE embeds Active MQ into Karaf using <a href="http://fusesource.com/products/fuse-fabric/">FUSE Fabric</a>.</p>

<p>Some of the added features or benefits are:</p>

<ul>
<li>The ability to use one backing store per broker, but with separation to
avoid blocking at the I/O controller</li>
<li>An operations managed cluster instead of product level clustering using
the Red Hat Cluster Suite</li>
<li>N+1 or N+2 architecture for highly available message brokers instead of
2N or more (like active/passive) configurations.</li>
</ul>


<p>The good news is that since everything is open source, we can dig into the
<a href="http://github.com/jboss-fuse">code</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/25/judcon-2013-so-you-want-to-be-a-jboss-rock-star/">JUDCon 2013: So You Want to Be a JBoss Rock Star</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-25T16:23:00-04:00" pubdate data-updated="true">Jun 25<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Eric Schabell gave an emphatic <em>rah rah</em> presentation to encourage everyone
in attendance (not as many as you might think) to become actively involved
in speaking roles about technology, developer process, or really anything
they are passionate about.  This sounds kind of ho-hum and obvious, but it
is true advice for taking a career to the next step by becoming known for
<em>who</em> you are as well as well as <em>what</em> you do.  This notion was an
important one in my decision to make a career change and come work for
<a href="http://www.shadow-soft.com">Shadow Soft</a>.</p>

<h2>Knowledge, Passion and Tools</h2>

<p>The three tenants to your growth process are knowledge about what you
do (or what you want to be known for doing), the passion to do it and do
it well, and the tools you need in order to be successful in communicating
it to the world (or your desired audience, but why aim low?)</p>

<p>To exercise your personal growth, Eric recommends a simple three step plan:</p>

<ol>
<li>Choose your story you want to tell, or the project you want to be known
through.</li>
<li>Practice uniformity (more on this later)</li>
<li>Integrate it with <em>the Cloud</em>, or, differently phrased, make your
work discoverable and consumable by others via an established (and
popular) mechanism.</li>
</ol>


<p>If you are a developer or want to show things in the technology space,
practice making the <em>evidence</em> of your work public, mobile ready and
available through a common asset that your audience will have at their
disposal.  Generally, this can be summarized as &ldquo;Put it on the web.&rdquo;</p>

<p>Choosing your story or project is the first step because, as those of us
who have or work with children often offer as advice, it isn&rsquo;t enough to
want to be &ldquo;rich&rdquo; or &ldquo;famous&rdquo; or &ldquo;popular&rdquo;.  You have to answer the question
of <em>what</em> it is that made you rich or famous or popular.  Remember, people
can be well known for their spectacular failures just as well as they
can be known for spectacular success.  However, no one is known for
simply not trying.</p>

<p>Uniformity, particularly in the software space, can be applied to mean
the mode in which your software or concepts are downloaded, consumed and
how they interact with the participant.  Eric offers up his own template
for doing so on GitHub, via the <a href="https://www.github.com/eschabell/jboss-rock-star-template">JBoss Rock Star Template</a>.</p>

<p>It is important that you create a template for your own projects as well,
but stick to providing short and simple instructions for consuming it.  If
space is not prohibitive, include <em>everything</em> someone needs to get going
all in the same place.  Consider:</p>

<ul>
<li>How will the participant retrieve my project?</li>
<li>How will they install it?</li>
<li>How will they run it?</li>
<li>How long do they want to spend on it?</li>
<li>Where can they look for help?</li>
<li>What is the perception I want them to have?</li>
</ul>


<p>Answering these questions might lead you to select a uniform installation
script, a public hosting provider like GitHub for your open source projects,
a cloud hosting provider like <a href="http://www.openshift.com">OpenShift</a>, a
initialization script and corresponding local/remote deployment script, and
a README file in the root of your project.</p>

<h2>Closing Thoughts</h2>

<p>If this all seems so simple, we have only to ask &ldquo;Am I doing it yet?&rdquo;  If not,
why not, and is that a good reason.  I want to move forward.  Not everyone
does (which can be a good thing).</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/25/judcon-2013-building-html5-applications/">JUDCon 2013: Building HTML5 Applications</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-25T15:20:00-04:00" pubdate data-updated="true">Jun 25<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.jboss.org">JBoss</a> has been doing a lot of work (and a lot of
writing) about their quick starts to application development on the JBoss
stack.  This is a <em>good thing</em> as..</p>

<ol>
<li>All the code is open source</li>
<li>JBoss has a huge number of projects and it can be difficult to make
sense of them all without good examples.</li>
</ol>


<p>Pete Muir (who could walk into any high school undetected) is
a superb presenter and is an active participant in the JBoss quickstart
projects.</p>

<p>There are nearly 100 <a href="https://www.jboss.org/jdf/quickstarts/get-started/">JBoss Quickstarts</a>
to assist developers and architects alike with doing their own work or just
getting familiar with the suite of JBoss projects available for use.  Most, if
not all, are available from GitHub and can be initalized using a maven
command or two.  Some quickstart projects are implemented more than once, with
variation between the implementation technology.  This is another great
technique for learning just what difference does using
<a href="http://angularjs.org/">Angular JS</a> vs <a href="https://www.jboss.org/errai">JBoss Errai</a>
or <a href="https://www.jboss.org/richfaces">RichFaces JSF</a> make for an application
(for example).</p>

<h2>TicketMonster</h2>

<p>The focus of today&rsquo;s presentation (and others to follow) was the
<a href="https://www.jboss.org/jdf/examples/ticket-monster/tutorial/WhatIsTicketMonster/">Ticket Monster</a>
example application.  It made use of several technologies, including the
new JEE-6 specification for CDI to inject implementations of common application
functionality into the business classes, <a href="https://www.redhat.com/products/jbossenterprisemiddleware/data-grid/">JBoss DataGrid</a>
as an application object cache and a choice of view layers.  The application
is written in such a way as to have a different UI for both desktop and
mobile view clients while maintaining a consistent service API on the JBoss
application server.</p>

<p>As a shortcut for developing management UI capability for the various domain
objects in Ticket Monster, <a href="http://forge.jboss.org/">JBoss Forge</a> was used
to generate the administration pages as scaffolds on top of the entity objects
for the Admin function.  This is a feature that has been around in Ruby and
Python domains for quite some time, and it is very good to see the scaffold
development utility appear in the Java space.</p>

<p><a href="https://www.jboss.org/errai">JBoss Errai</a> is used to provide a live data
binding between the UI and the server side of the application, which, via
Errai, automatically upgrades the connection to a WebSockets interleaved
stream when supported by both the browser and server.  Using CDI and events,
the communication between the client and server is highly interactive.</p>

<h2>Closing Thoughts</h2>

<p>It is a point of personal satisfaction to see so much work being done to
help developers learn and do creative work, especially so since all of
the materials produced for the tutorials (and the application server itself)
is open source and available to all.  Kudos to the JBoss team and RedHat for
not looking for a &ldquo;line&rdquo; between what is open and what is closed, but for
being all open, all the time.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/25/judcon-2013-full-control-and-transparency/">JUDCon 2013: Full Control &amp; Transparency</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-25T12:09:00-04:00" pubdate data-updated="true">Jun 25<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Josh West and Andrew Dinn gave a well informed talk on various code and
runtime inspection tools in the JBoss toolbox.  First up was
<a href="https://www.jboss.org/tattletale">JBoss Tattletale</a>, used to inspect and
capture metadata for applications.  Tattletale creates an inventory of
all the libraries in and application and allows you to easily find which
jar is containing a class you have reason to be concerned with.  Ask anyone
who has tried to use the various online &ldquo;jar finder&rdquo; kinds of services and
they will tell you that being able to see a specific, context relevant
listing is a secret sauce.  Personally, I&rsquo;m glad to find a tool that allows
me to finally throw away my quick and dirty scripts combining find, unzip and
grep to look for class locations.  Tattletale creates and easy to search and
read report in HTML and can be invoked within your continous integration
build tool of choice so that reports are always at the ready.</p>

<p><a href="https://windup.jboss.org/index.html">JBoss Windup</a>, a tool I am personally
excited about to assist with inventory of applications deployed to Oracle or
IBM application servers produces output from Tattletale as one of its
artifacts.</p>

<h2>Decompiling</h2>

<p>Next, we looked briefly at decompilation options for code that you either
didn&rsquo;t write or don&rsquo;t own or (Heaven forbid) don&rsquo;t have the source code for
any longer.  <a href="http://java.decompiler.free.fr/?q=jdgui">JD-GUI</a> seems to be
the best of the readily available options, but itself is not open source. Of
course, that leaves you to wonder the obvious question of when you might need
to decompile the decompiler.  There is an open source JAVA decompiler in the
works, called <a href="https://github.com/bradsdavis/candle-decompiler">Candle</a> by
Brad Davis, the author of Cake, the tool behind Windup.</p>

<h2>Bytecode Magic</h2>

<p>This section could just as easily have been called <em>Black Magic</em>.  Bytecode
injection is a technique that not many leverage because it is simultaneously
powerful and tough to get right if you don&rsquo;t know exactly what you are doing.</p>

<p><a href="http://www.jboss.org/byteman">Byteman</a> gives you the capability to inject
code at <em>RUNTIME</em> within just about any bit of code you have running, whether
you wrote it or not.  In a fantastic bit of functionality, this capability is
delivered as a <em>rule</em> you can define along with the code you want to be
injected and executed at the point defined by the rule.  You get local access
to variables and methods (if you know the names) so you can do detail logging
or property modification.  As a bonus, Byteman works at a lower level than
reflection, so you needn&rsquo;t worry about the public vs private nature of
class members.  While the obvious use is to inject logging and debugging
statements to better observe a problem, Byteman can also be used to assert
tests or conditions which are difficult (if not impossible) to reproduce in
a development environment.  For example, if the production environment has
a poorly handled runtime exception from time to time which cannot be
reproduced in any other environment, Byteman could be used on a developer&rsquo;s
workstation to inject the runtime exception at the exact point it is being
thrown in the live environment and develop proper handling and application
recovery.</p>

<p>Continuing to wax enthusiastic about Byteman, it has the ability to run as
an Agent on the JVM when passed as a command line parameter on startup,
allowing it to listen on a remote interface for live inspection of the
execution environment.  Rules submitted this way can be typechecked, so you
can be fairly certain that they will not cause a runtime error when
encountered.  However, the important thing to note is that if you are using
a very specific type, such as a particular kind of exception, be sure to
use the fully qualified name so as to avoid unexpected results if the
application has defined a local type with the same name that is in scope
of the executing rule, or in case the type is not already imported by the
parent class.</p>

<h2>Closing Thoughts</h2>

<p>With runtime modification and injection, Java developers can get a taste of
4GL without leaving their cozy strongly typed 3rd generation language.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/18/camelone-2013-making-apache-mq-scale/">CamelOne 2013: Making Apache MQ Scale</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-18T08:43:00-04:00" pubdate data-updated="true">Jun 18<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://hiramchirino.com/blog">Hiram Chirino</a> is one of the authors of
Apache MQ, so this should be good.</p>

<p>Apache MQ is designed for Machine to Machine, push-style messaging and
enables vertical scaling through high performance as well as
horizontal scaling through clustering and partitioning.  Hiram gave
a number of scaling tips for Apache MQ, which should mostly apply to
<a href="https://www.redhat.com/products/jbossenterprisemiddleware/fuse/">JBoss Fuse</a>
since Apache MQ is embedded.</p>

<h2>Vertical Scaling</h2>

<p>To start, vertical scaling, or allowing a single Apache MQ broker to
serve more traffic than before, can be improved with a few parameters:</p>

<ul>
<li>Set the configuration for using a dedicated task runner to false.</li>
<li>Set the destination policy setting for optimizing dispatch to true.</li>
<li>Use the NIO transport on the broker</li>
<li>Reduce the thread size on the JVM via the Xss option</li>
</ul>


<p>If using version 5.6 of Apache MQ, then non-blocking callbacks for
ACK-ing receipt of JMS messages are available which can improve
performance by incurring fewer thread waits.</p>

<p>If using version 5.8, a new backing store is available, called
<a href="https://github.com/fusesource/fuse-extra/tree/master/fusemq-leveldb">Level DB</a>
instead of <a href="https://activemq.apache.org/kahadb.html">Kaha DB</a> which
offers higher performance in nearly all cases.</p>

<h2>Horizontal Scaling</h2>

<p>Scaling <em>out</em> is usally a little more tricky than scaling <em>up</em>.  In
Apache MQ, there are two primary methods for scaling out
horizontally in your messaging architecture:</p>

<ol>
<li>Use client side partitioning by having multiple brokers, each
for a set of clients.</li>
<li>Link brokers together in a cluster configuration.</li>
</ol>


<p>The second method is the out of box &ldquo;easy button&rdquo;, but it is
important to note that it does NOT make Apache MQ <em>faster</em>.  Instead,
in some cases it is <em>slower</em> because it may add a network hop
between brokers to reach a particular connected client path.</p>

<p>The first method is more difficult to configure and maintain as
clients scale out, so it is best used where the messaging topology
matches with the broker partitioning scheme. This occurs when clients
are naturally separated by geography or business purpose and
producers <em>know</em> which client group should receive a particular
message and can select the broker accordingly.</p>

<h2>High Availability</h2>

<p>Even with Horizontal Scaling practices, it is still possible to lose a
broker and, particularly when using partioning, the associated set of
clients.  This is where a High Availability configuration comes into
play &ndash; to allow clients to continue receiving messages when their
primary broker fails.</p>

<p>HA configurations often use a failover URI type, written as
<code>failover://(address1,address2,...)</code> but high availability can also
be acheived by clustering at the database level (which is still a
single point of failure, only now at the DB instead of the message
broker).  Alternately shared filesystems can be used and, in the case
of Apache MQ 5.9, a replicated Level DB using Zookeeper for automatic
leader election.</p>

<p>The <a href="https://zookeeper.apache.org/">Zookeeper</a> case is an interesting
one, as it is also the officially supported tool embedded within
<a href="http://fusesource.com/products/fuse-fabric/">Fuse Fabric</a> as the
service registry.  When a fabric URI is used, the client can dynamically
discover and resolve slave instances of brokers from the directory.</p>

<p>It is important to consider the system load when using Zookeeper, as
Zookeeper does not respond well in cases of CPU contention and this
can impact leader election.  Keeping Zookeeper hosted separately from
the Apache MQ broker helps with this, and you need at least 3 Zookeeper
instances to achieve High Availability through Zookeeper, and at least
5 to have high reliability.</p>

<h2>Demo Time</h2>

<p>Hiram made use of <a href="http://tmux.sourceforge.net/">Tmux</a> to automatically
echo his commands across multiple terminals, live in front of the
audience.  This speeds up the demo quite a bit, looks awesome, and
lends credibility to him as a presenter for using a cool tool.</p>

<p>The demo went well, showing brokers going down and the clients
recovering without losing messages.</p>

<h2>Closing Thoughts</h2>

<p>A lot of features are new in the 5.9 version of Apache MQ, but won&rsquo;t
make it into RedHat JBoss Fuse until early next year.<br/>
RedHat JBoss Fuse sees Apache MQ as upstream code and takes some time
to certify it for enterprise level support.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/07/11/judcon-2013-resilient-enterprise-messaging-with-fuse-and-red-hat-enterprise-linux/">JUDCon 2013: Resilient Enterprise Messaging With Fuse &amp; Red Hat Enterprise Linux</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/25/judcon-2013-so-you-want-to-be-a-jboss-rock-star/">JUDCon 2013: So You Want to Be a JBoss Rock Star</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/25/judcon-2013-building-html5-applications/">JUDCon 2013: Building HTML5 Applications</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/25/judcon-2013-full-control-and-transparency/">JUDCon 2013: Full Control &amp; Transparency</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/18/camelone-2013-making-apache-mq-scale/">CamelOne 2013: Making Apache MQ Scale</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/17/camelone-2013-drools-with-apache-camel-dot-rules/">CamelOne 2013: Drools With Apache Camel.. Rules</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/17/rich-web-applications-with-jboss-errai/">JUDCon 2013: Rich Web Applications With JBoss Errai</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/17/judcon-2013-jboss-grid-and-websockets/">JUDCon 2013: JBoss Data Grid and WebSockets</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/17/camelone-2013-camel-cookbook/">CamelOne 2013: Camel Cookbook</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/11/new-job-slash/">New Job</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/mattdugan">@mattdugan</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'mattdugan',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/Matt D?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Matt Dugan -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>







</body>
</html>
